Resources:
  MyBackendFunction:
    Type: AWS::Serverless::Function
    Properties:
      CodeUri: .
      Handler: app.lambda_handler
      Runtime: python3.9
      Environment:
        Variables:
          ALLOWED_ORIGIN: !If
            - IsDev
            - "*"
            - "https://d10tb7qqmyl8u1.cloudfront.net"
      Events:
        ApiEvent:
          Type: Api
          Properties:
            Path: /hello
            Method: GET
            RestApiId: !Ref MyApi
